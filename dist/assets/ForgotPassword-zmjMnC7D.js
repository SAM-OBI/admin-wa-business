import{r as t,a as j,j as e,L as c}from"./index-Bh_G82eR.js";import{v as o,w as p}from"./index.esm-BGr2I2xK.js";import"./iconBase-D0Fi-Wjo.js";const y=()=>{const[l,x]=t.useState(""),[s,a]=t.useState("idle"),[u,i]=t.useState(""),{forgotPassword:h,checkAuth:m}=j();t.useEffect(()=>{m().catch(()=>{})},[m]);const g=async r=>{var n,d;r.preventDefault(),a("loading"),i("");try{await h(l),a("success")}catch(f){a("error"),i(((d=(n=f.response)==null?void 0:n.data)==null?void 0:d.message)||"Something went wrong. Please try again.")}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email address to receive reset instructions"})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s==="success"?e.jsx("div",{className:"rounded-md bg-green-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(o,{className:"h-5 w-5 text-green-400","aria-hidden":"true"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Email sent successfully"}),e.jsx("div",{className:"mt-2 text-sm text-green-700",children:e.jsx("p",{children:"Check your email inbox for the reset link."})}),e.jsx("div",{className:"mt-4",children:e.jsx(c,{to:"/",className:"text-sm font-medium text-green-600 hover:text-green-500",children:"Back to login â†’"})})]})]})}):e.jsxs("form",{className:"space-y-6",onSubmit:g,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(o,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l,onChange:r=>x(r.target.value),className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"you@example.com"})]})]}),s==="error"&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-sm font-medium text-red-800",children:u})})})}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:s==="loading",className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white 
                    ${s==="loading"?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}`,children:s==="loading"?"Sending...":"Send Reset Link"})}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs(c,{to:"/",className:"flex items-center text-sm font-medium text-gray-600 hover:text-gray-900",children:[e.jsx(p,{className:"mr-2"})," Back to Login"]})})]})})})]})};export{y as default};
