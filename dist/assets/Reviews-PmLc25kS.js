import{r as a,j as e}from"./index-Bh_G82eR.js";import{a as f}from"./admin.service-DANvCZDH.js";import{i as h}from"./index.esm-BGr2I2xK.js";import"./iconBase-D0Fi-Wjo.js";function N(){const[n,l]=a.useState([]),[m,o]=a.useState(!0),[i,g]=a.useState(""),[c,u]=a.useState({page:1,limit:20,total:0,pages:1}),x=a.useCallback(async(s=1)=>{var d;o(!0);try{const t={page:s,limit:c.limit};i==="responded"&&(t.responded="true"),i==="pending"&&(t.responded="false");const r=await f.getReviews(t);(d=r.data)!=null&&d.reviews?(l(r.data.reviews),u(r.data.pagination)):Array.isArray(r.data)?l(r.data):l([])}catch(t){console.error("Failed to fetch reviews:",t)}finally{o(!1)}},[i,c.limit]);a.useEffect(()=>{x(1)},[x]);const p=s=>[...Array(5)].map((d,t)=>e.jsx(h,{className:`w-4 h-4 ${t<s?"text-yellow-400 fill-current":"text-gray-300"}`},t));return m?e.jsx("div",{className:"p-6 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Reviews & Ratings"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Monitor product reviews and feedback"})]}),e.jsx("div",{children:e.jsxs("select",{value:i,onChange:s=>g(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[e.jsx("option",{value:"",children:"All Reviews"}),e.jsx("option",{value:"pending",children:"Pending Reply"}),e.jsx("option",{value:"responded",children:"Responded"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.map(s=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"flex gap-1",children:p(s.rating)}),e.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${s.status==="published"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:s.status})]}),e.jsxs("p",{className:"text-gray-700 mb-4 flex-1",children:['"',s.comment,'"']}),e.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.productName}),e.jsxs("div",{className:"text-gray-500",children:["by ",s.userName]}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(s.createdAt).toLocaleDateString()})]})]},s._id)),n.length===0&&e.jsx("div",{className:"col-span-full py-12 text-center text-gray-500 bg-white rounded-xl border border-gray-200",children:"No reviews found."})]})]})}export{N as default};
