import{e as y,r as l,j as e,L as r}from"./index-Bh_G82eR.js";import{a as u}from"./admin.service-DANvCZDH.js";import{w as b,D as p,y as f,i as j,d as v,x as w,L as S,r as k,v as P,$ as F}from"./index.esm-BGr2I2xK.js";import"./iconBase-D0Fi-Wjo.js";function A(){var n,x,o,m;const{id:a}=y(),[s,g]=l.useState(null),[N,c]=l.useState(!0),d=l.useCallback(async()=>{c(!0);try{const t=await u.getProductById(a);g(t.data)}catch(t){console.error("Failed to fetch product details:",t)}finally{c(!1)}},[a]);if(l.useEffect(()=>{a&&d()},[a,d]),N)return e.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!s)return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Product not found"}),e.jsx(r,{to:"/products",className:"text-blue-600 hover:underline mt-4 inline-block",children:"Back to Products"})]})});const i=()=>s.stock===0?e.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-semibold",children:"Out of Stock"}):s.stock<=20?e.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm font-semibold",children:["Low Stock (",s.stock,")"]}):e.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-semibold",children:["In Stock (",s.stock,")"]});return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(r,{to:"/products",className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[e.jsx(b,{className:"mr-2"}),"Back to Products"]}),e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:s.name}),e.jsx("p",{className:"text-gray-500 mt-1",children:typeof s.category=="object"&&s.category!==null?s.category.name:s.category})]}),e.jsx("div",{children:i()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Sold"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:((n=s.salesStats)==null?void 0:n.totalSold)||0})]}),e.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(p,{className:"text-blue-600",size:24})})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:["₦",(((x=s.salesStats)==null?void 0:x.totalRevenue)||0).toLocaleString()]})]}),e.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(f,{className:"text-green-600",size:24})})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Average Rating"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:s.averageRating.toFixed(1)})]}),e.jsx("div",{className:"h-12 w-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(j,{className:"text-yellow-600",size:24})})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Current Stock"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:s.stock})]}),e.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(v,{className:"text-purple-600",size:24})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.images&&s.images.length>0&&e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Product Images"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.images.map((t,h)=>e.jsx("img",{src:t,alt:`${s.name} ${h+1}`,className:"w-full h-48 object-cover rounded-lg"},h))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Product Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Price"}),e.jsxs("span",{className:"font-bold text-gray-800",children:["₦",s.price.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Category"}),e.jsx("span",{className:"text-gray-800",children:typeof s.category=="object"&&s.category!==null?s.category.name:s.category})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status"}),e.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${s.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[s.status==="active"?e.jsx(w,{className:"mr-1"}):e.jsx(S,{className:"mr-1"}),s.status]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Listed Date"}),e.jsx("span",{className:"text-gray-800",children:new Date(s.createdAt).toLocaleDateString()})]})]}),s.longDescription&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-700",children:s.longDescription})]})]}),s.reviews&&s.reviews.length>0&&e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:["Customer Reviews (",s.reviewCount,")"]}),e.jsx("div",{className:"space-y-3",children:s.reviews.map(t=>e.jsx("div",{className:"p-3 border border-gray-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(j,{className:"text-yellow-500 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"font-medium text-gray-800",children:t.user.name}),e.jsxs("span",{className:"text-sm font-semibold text-yellow-600",children:[t.rating,"/5"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.comment}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(t.createdAt).toLocaleDateString()})]})]})},t._id))})]})]}),e.jsxs("div",{className:"space-y-6",children:[s.vendor&&e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Vendor Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Vendor Name"}),e.jsx(r,{to:`/vendors/${s.vendor._id}`,className:"font-medium text-blue-600 hover:text-blue-800",children:s.vendor.name})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(P,{className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-800",children:s.vendor.email})]})]}),s.vendor.phone&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),e.jsx("p",{className:"font-medium text-gray-800",children:s.vendor.phone})]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Sales Analytics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Units Sold"}),e.jsx("span",{className:"font-bold text-gray-800",children:((o=s.salesStats)==null?void 0:o.totalSold)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Revenue"}),e.jsxs("span",{className:"font-bold text-gray-800",children:["₦",(((m=s.salesStats)==null?void 0:m.totalRevenue)||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Reviews"}),e.jsx("span",{className:"font-bold text-gray-800",children:s.reviewCount||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Avg. Rating"}),e.jsxs("span",{className:"font-bold text-yellow-600",children:[s.averageRating.toFixed(1),"/5"]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Inventory Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Current Stock"}),i()]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Sold"}),e.jsx("span",{className:"font-bold text-gray-800",children:s.soldCount||0})]})]})]})]})]})]})}export{A as default};
