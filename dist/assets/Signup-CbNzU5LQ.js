import{r as t,a as N,u as j,j as e}from"./index-Bh_G82eR.js";import{a as r,b as F,c as m,s as D}from"./swal-Bzj92f0x.js";import"./sweetalert2.esm.all-B3GDCxSY.js";const C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,S=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;function R(){const[l,x]=t.useState(""),[o,b]=t.useState(""),[n,p]=t.useState(""),[a,h]=t.useState(""),[i,f]=t.useState(""),[c,g]=t.useState("ADMIN"),{register:A}=N(),w=j(),v=async s=>{var d,u;if(s.preventDefault(),!C.test(o)){r("Please enter a valid email address.","Invalid Email");return}if(!S.test(a)){r("Password must be at least 8 chars, with 1 uppercase, 1 lowercase, 1 number, and 1 special char.","Weak Password");return}if(a!==i){r("Passwords do not match.","Password Mismatch");return}F("Creating your account...");try{await A({name:l,email:o,phone:n,password:a,role:c}),m(),D("Account created successfully! Redirecting to login...","Welcome!"),setTimeout(()=>{w("/login")},2e3)}catch(y){m(),r(((u=(d=y.response)==null?void 0:d.data)==null?void 0:u.message)||"Failed to create account.","Registration Failed")}};return e.jsx("div",{className:"min-h-screen bg-[#F5F5DC] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl w-full max-w-md px-8 py-8 relative z-10 mx-auto",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("h1",{className:"text-2xl font-bold text-[#4A3728] mb-1",children:"Create Account"})}),e.jsxs("form",{onSubmit:v,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-semibold text-[#4A3728]",children:"Full Name"}),e.jsx("input",{type:"text",value:l,onChange:s=>x(s.target.value),required:!0,className:"block w-full px-4 py-3.5 bg-[#F5F5DC]/50 border border-transparent focus:bg-white focus:border-[#D4AF37] rounded-xl focus:ring-2 focus:ring-[#D4AF37]/20 transition-all outline-none text-[#4A3728] placeholder-gray-700 font-medium",placeholder:"John Doe"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-semibold text-[#4A3728]",children:"Email Address"}),e.jsx("input",{type:"email",value:o,onChange:s=>b(s.target.value),required:!0,className:"block w-full px-4 py-3.5 bg-[#F5F5DC]/50 border border-transparent focus:bg-white focus:border-[#D4AF37] rounded-xl focus:ring-2 focus:ring-[#D4AF37]/20 transition-all outline-none text-[#4A3728] placeholder-gray-700 font-medium",placeholder:"admin@shopvia.ng"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-semibold text-[#4A3728]",children:"Phone Number"}),e.jsx("input",{type:"tel",value:n,onChange:s=>p(s.target.value),required:!0,className:"block w-full px-4 py-3.5 bg-[#F5F5DC]/50 border border-transparent focus:bg-white focus:border-[#D4AF37] rounded-xl focus:ring-2 focus:ring-[#D4AF37]/20 transition-all outline-none text-[#4A3728] placeholder-gray-700 font-medium",placeholder:"+234 800 000 0000"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-semibold text-[#4A3728]",children:"Role"}),e.jsxs("select",{value:c,onChange:s=>g(s.target.value),required:!0,className:"block w-full px-4 py-3.5 bg-[#F5F5DC]/50 border border-transparent focus:bg-white focus:border-[#D4AF37] rounded-xl focus:ring-2 focus:ring-[#D4AF37]/20 transition-all outline-none text-[#4A3728] font-medium",children:[e.jsx("option",{value:"ADMIN",children:"Admin"}),e.jsx("option",{value:"VENDORS",children:"Vendor"}),e.jsx("option",{value:"CUSTOMERS",children:"Customer"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-semibold text-[#4A3728]",children:"Password"}),e.jsx("input",{type:"password",value:a,onChange:s=>h(s.target.value),required:!0,className:"block w-full px-4 py-3.5 bg-[#F5F5DC]/50 border border-transparent focus:bg-white focus:border-[#D4AF37] rounded-xl focus:ring-2 focus:ring-[#D4AF37]/20 transition-all outline-none text-[#4A3728] placeholder-gray-700 font-medium",placeholder:"••••••••"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-semibold text-[#4A3728]",children:"Confirm Password"}),e.jsx("input",{type:"password",value:i,onChange:s=>f(s.target.value),required:!0,className:"block w-full px-4 py-3.5 bg-[#F5F5DC]/50 border border-transparent focus:bg-white focus:border-[#D4AF37] rounded-xl focus:ring-2 focus:ring-[#D4AF37]/20 transition-all outline-none text-[#4A3728] placeholder-gray-700 font-medium",placeholder:"••••••••"})]}),e.jsx("button",{type:"submit",className:"w-full bg-[#D8C3A5] hover:bg-[#D4AF37] text-[#4A3728] py-3.5 rounded-xl font-bold shadow-sm hover:shadow-md transition-all duration-200 text-base",children:"Sign Up"})]})]})})}export{R as default};
